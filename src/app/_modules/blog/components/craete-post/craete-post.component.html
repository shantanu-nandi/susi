<div class="container-lg">
  <div class="row px-sm-5 px-md-2 px-lg-5">
    <div class="col-12 col-md-6 mb-4">

      <div class="card">
        <div class="card-body">
          <form (ngSubmit)="onSubmit()" #postForm="ngForm" (keydown.enter)="$event.preventDefault()">
            <div class="form-group">
              <label for="title">Title</label>
              <input [(ngModel)]="model.title" type="text" class="form-control" id="title" name="title" required
                maxlength="255">
            </div>

            <div class="form-group">
              <label for="description">Description</label>
              <textarea [(ngModel)]="model.description" class="form-control" id="description" name="description"
                rows="3" required minlength="50" maxlength="1024"
                placeholder="Enter description here (min 100 characters)"></textarea>
            </div>

            <div class="form-group">
              <label for="category">Category</label>
              <select (change)="onCategoryChange($event.target.value)" class="form-control" id="category"
                name="category">
                <option value="0">Select</option>
                <option [value]="cat.id" *ngFor="let cat of categories">{{cat.name}}</option>
              </select>
            </div>

            <div class="form-group">
              <label for="imageUrl">Url</label>
              <input [(ngModel)]="model.imageUrl" type="text" class="form-control" id="imageUrl" name="imageUrl"
                placeholder="https://www.my-awesome-image.jpg/">
            </div>

            <div class="form-group">
              <label for="tags">Tags</label>
              <input type="text" (keyup.enter)="onEnter($event)" class="form-control" id="tags"
                placeholder="React.JS, Angular, Frontend Developmend">
              <div class="my-2">
                <span (click)="remove(tag)" *ngFor="let tag of model.tags"
                  class="badge badge-primary mr-2 mb-2">{{tag}}</span>
              </div>
            </div>

            <button type="submit" class="btn btn-primary mr-2" [disabled]="!postForm.form.valid">Create</button>
            <button (click)="onCancel()" class="btn btn-outline-primary">Cancel</button>
          </form>
        </div>
      </div>
    </div>

    <div class="col-12 col-md-6 d-none d-md-block">
      <app-post-preview *ngIf="model.title" [model]="model"></app-post-preview>
      <app-placeholder *ngIf="!model.title"></app-placeholder>
    </div>
  </div>
</div>
