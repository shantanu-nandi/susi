<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand text-primary" routerLink="/">
    <span class="h4 font-weight-bold">CODE.</span>
  </a>
  <button (click)="isExpanded = !isExpanded" class="navbar-toggler rounded-0" type="button" data-toggle="collapse"
    data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
    aria-label="Toggle navigation">
    <fa-icon class="text-gray" [icon]="['fas', 'bars']" size="2x"></fa-icon>
  </button>

  <div [class.show]="isExpanded" class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">
        <a class="nav-link" routerLink="/" title="Home"
          i18n="navigation link | navigation link for home page@@app-nav-link-home">Home</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="/about" title="About"
          i18n="navigation link | navigation link for about page@@app-nav-link-about">About</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="/contact" title="Contact"
          i18n="navigation link | navigation link for contact page@@app-nav-link-contact">Contact</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="/blog" title="Blog">Blog</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="/components" title="Components">Components</a>
      </li>
      <li class="nav-item" routerLinkActive="active">
        <a class="nav-link" routerLink="/todo" title="Components">Todo</a>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
      <li ngbDropdown class="nav-item">
        <button ngbDropdownToggle class="nav-link btn btn-link dropdown-toggle" id="themeDropdown" title="Theme"
          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          <fa-icon [icon]="['fa', 'palette']" size="2x"></fa-icon>
        </button>
        <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right" aria-labelledby="themeDropdown">
          <button *ngFor="let theme of themes" (click)="changeTheme(theme)" ngbDropdownItem>{{theme.name}}</button>
        </div>
      </li>

      <li ngbDropdown class="nav-item">
        <button ngbDropdownToggle class="nav-link btn btn-link dropdown-toggle" id="userDropdown" title="Account"
          role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
          <fa-icon [icon]="['fa', 'user-circle']" size="2x"></fa-icon>
        </button>
        <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
          <div ngbDropdownItem *ngIf="user$ | async as user" class="dropdown-item d-flex flex-column align-items-center border-bottom">
            <div>
              <fa-icon class="text-gray" [icon]="['fa', 'user-circle']" size="2x"></fa-icon>
            </div>
            <p class="font-weight-bold my-0">{{user.name}}</p>
            <p class="text-muted">{{user.email}}</p>
          </div>

          <a ngbDropdownItem routerLink="/sign-in" *ngIf="!(user$ | async)" class="dropdown-item" title="Login">Login</a>

          <a ngbDropdownItem routerLink="/register" *ngIf="!(user$ | async)" class="dropdown-item" title="Sign up">Sign up</a>

          <div ngbDropdownItem *ngIf="user$ | async" class="dropdown-item pt-3 pb-2 border-top">
            <button (click)="logout()" title="Sign out" class="btn btn-light d-block mx-auto">Sign
              out</button>
          </div>
        </div>
      </li>
    </ul>
  </div>
</nav>
